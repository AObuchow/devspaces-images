======= BOOTSTRAP DOCKERFILE =======>
# Copyright (c) 2020 Red Hat, Inc.
# This program and the accompanying materials are made
# available under the terms of the Eclipse Public License 2.0
# which is available at https://www.eclipse.org/legal/epl-2.0/
#
# SPDX-License-Identifier: EPL-2.0
#
# Contributors:
#   Red Hat, Inc. - initial API and implementation
#
# https://registry.access.redhat.com/rhel8/go-toolset
FROM registry.redhat.io/rhel8/go-toolset:1.17.12-3 as builder
ENV GOPATH=/go/ \
    GO111MODULE=on

ARG BOOTSTRAP=true
ENV BOOTSTRAP=${BOOTSTRAP}

USER root

WORKDIR /kubernetes-image-puller
COPY go.mod .
COPY go.sum .
# built in Brew, use tarball in lookaside cache; built locally, comment this out
# COPY resources.tgz /tmp/resources.tgz
# build locally, fetch mods
RUN if [[ ${BOOTSTRAP} != "false" ]]; then \
      go mod download; \
    elif [[ -f /tmp/resources.tgz ]]; then \
      tar xvf /tmp/resources.tgz -C /; \
      rm -f /tmp/resources.tgz; \
    fi

COPY . .

RUN adduser appuser && \
    make build 

# https://registry.access.redhat.com/ubi8-minimal
FROM registry.redhat.io/ubi8-minimal:8.6-902
USER root
RUN microdnf -y update && microdnf clean all && rm -rf /var/cache/yum && echo "Installed Packages" && rpm -qa | sort -V && echo "End Of Installed Packages"
# CRW-528 copy actual cert
COPY --from=builder /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem /etc/pki/ca-trust/extracted/pem/
# CRW-528 copy symlink to the above cert
COPY --from=builder /etc/pki/tls/certs/ca-bundle.crt                  /etc/pki/tls/certs/
COPY --from=builder /etc/passwd /etc/passwd

USER appuser
COPY --from=builder /kubernetes-image-puller/bin/kubernetes-image-puller /
COPY --from=builder /kubernetes-image-puller/bin/sleep /bin/sleep
# NOTE: To use this container, need a configmap. See example at ./deploy/openshift/configmap.yaml
# See also https://github.com/che-incubator/kubernetes-image-puller#configuration
CMD ["/kubernetes-image-puller"]

# append Brew metadata here

ENV SUMMARY="Red Hat OpenShift Dev Spaces imagepuller container" \
    DESCRIPTION="Red Hat OpenShift Dev Spaces imagepuller container" \
    PRODNAME="devspaces" \
    COMPNAME="imagepuller-rhel8"
LABEL summary="$SUMMARY" \
      description="$DESCRIPTION" \
      io.k8s.description="$DESCRIPTION" \
      io.k8s.display-name="$DESCRIPTION" \
      io.openshift.tags="$PRODNAME,$COMPNAME" \
      com.redhat.component="$PRODNAME-$COMPNAME-container" \
      name="$PRODNAME/$COMPNAME" \
      version="3.3" \
      license="EPLv2" \
      maintainer="Ilya Buziuk <ibuziuk@redhat.com>, Nick Boldt <nboldt@redhat.com>" \
      io.openshift.expose-services="" \
      usage=""
<======= BOOTSTRAP DOCKERFILE =======
======= START BOOTSTRAP BUILD =======>
STEP 1/11: FROM registry.redhat.io/rhel8/go-toolset:1.17.12-3 AS builder
STEP 2/11: ENV GOPATH=/go/     GO111MODULE=on
--> f6060bc034c
STEP 3/11: ARG BOOTSTRAP=true
--> 5646d3cace9
STEP 4/11: ENV BOOTSTRAP=${BOOTSTRAP}
--> 553b78d7746
STEP 5/11: USER root
--> 05ee1b10dd6
STEP 6/11: WORKDIR /kubernetes-image-puller
--> b65f0938d6a
STEP 7/11: COPY go.mod .
--> 2e3eb014f96
STEP 8/11: COPY go.sum .
--> 4bbac6996ea
STEP 9/11: RUN if [[ ${BOOTSTRAP} != "false" ]]; then       go mod download;     elif [[ -f /tmp/resources.tgz ]]; then       tar xvf /tmp/resources.tgz -C /;       rm -f /tmp/resources.tgz;     fi
--> 4d6fcd04330
STEP 10/11: COPY . .
--> c81700a42c1
STEP 11/11: RUN adduser appuser &&     make build 
go test -v ./cfg... ./pkg... ./sleep... ./utils...
=== RUN   TestEnvVars
=== RUN   TestEnvVars/default
2022/08/28 08:52:30 No value found for DAEMONSET_NAME. Using default value of kubernetes-image-puller
2022/08/28 08:52:30 No value found for NAMESPACE. Using default value of k8s-image-puller
2022/08/28 08:52:30 Processing images from configuration...
2022/08/28 08:52:30 Image: che-theia=quay.io/eclipse/che-theia:nightly
2022/08/28 08:52:30 No value found for CACHING_MEMORY_REQUEST. Using default value of 1Mi
2022/08/28 08:52:30 No value found for CACHING_MEMORY_LIMIT. Using default value of 5Mi
2022/08/28 08:52:30 No value found for CACHING_CPU_REQUEST. Using default value of .05
2022/08/28 08:52:30 No value found for CACHING_CPU_LIMIT. Using default value of .2
2022/08/28 08:52:30 No value found for NODE_SELECTOR. Using default value of {}
2022/08/28 08:52:30 No value found for IMAGE_PULL_SECRETS. Using default value of 
2022/08/28 08:52:30 No value found for AFFINITY. Using default value of {}
2022/08/28 08:52:30 No value found for KIP_IMAGE. Using default value of quay.io/eclipse/kubernetes-image-puller:next
=== RUN   TestEnvVars/overrides
2022/08/28 08:52:30 Processing images from configuration...
2022/08/28 08:52:30 Image: che-theia=quay.io/eclipse/che-theia:nightly
2022/08/28 08:52:30 No value found for CACHING_MEMORY_REQUEST. Using default value of 1Mi
2022/08/28 08:52:30 No value found for CACHING_MEMORY_LIMIT. Using default value of 5Mi
2022/08/28 08:52:30 No value found for CACHING_CPU_LIMIT. Using default value of .2
--- PASS: TestEnvVars (0.00s)
    --- PASS: TestEnvVars/default (0.00s)
    --- PASS: TestEnvVars/overrides (0.00s)
=== RUN   TestProcessImagesEnvVar
=== RUN   TestProcessImagesEnvVar/one_image
2022/08/28 08:52:30 Processing images from configuration...
2022/08/28 08:52:30 Image: che-theia=quay.io/eclipse/che-theia:nightly
=== RUN   TestProcessImagesEnvVar/three_images
2022/08/28 08:52:30 Processing images from configuration...
2022/08/28 08:52:30 Image: image1=my/image1:dev
2022/08/28 08:52:30 Image: image2=my/image2:next
2022/08/28 08:52:30 Image: image3=my/image3:stage
--- PASS: TestProcessImagesEnvVar (0.00s)
    --- PASS: TestProcessImagesEnvVar/one_image (0.00s)
    --- PASS: TestProcessImagesEnvVar/three_images (0.00s)
=== RUN   TestProcessNodeSElectorEnvVar
=== RUN   TestProcessNodeSElectorEnvVar/default_node_selector,_NODE_SELECTOR_set
=== RUN   TestProcessNodeSElectorEnvVar/compute_type,_NODE_SELECTOR_set
=== RUN   TestProcessNodeSElectorEnvVar/default_env_var,_NODE_SELECTOR_not_set
2022/08/28 08:52:30 No value found for NODE_SELECTOR. Using default value of {}
--- PASS: TestProcessNodeSElectorEnvVar (0.00s)
    --- PASS: TestProcessNodeSElectorEnvVar/default_node_selector,_NODE_SELECTOR_set (0.00s)
    --- PASS: TestProcessNodeSElectorEnvVar/compute_type,_NODE_SELECTOR_set (0.00s)
    --- PASS: TestProcessNodeSElectorEnvVar/default_env_var,_NODE_SELECTOR_not_set (0.00s)
=== RUN   TestGetEnvVarOrDefaultBool
--- PASS: TestGetEnvVarOrDefaultBool (0.00s)
=== RUN   TestGetEnvVarOrDefault
2022/08/28 08:52:30 No value found for UNDEFINED_ENV_VAR. Using default value of bar
--- PASS: TestGetEnvVarOrDefault (0.00s)
=== RUN   Test_processAffinityEnvVar
=== RUN   Test_processAffinityEnvVar/default_affinity,_AFFINITY_set
=== RUN   Test_processAffinityEnvVar/requiredDuringSchedulingIgnoredDuringExecution,_AFFINITY_set
=== RUN   Test_processAffinityEnvVar/default_env_var,_AFFINITY_not_set
2022/08/28 08:52:30 No value found for AFFINITY. Using default value of {}
--- PASS: Test_processAffinityEnvVar (0.00s)
    --- PASS: Test_processAffinityEnvVar/default_affinity,_AFFINITY_set (0.00s)
    --- PASS: Test_processAffinityEnvVar/requiredDuringSchedulingIgnoredDuringExecution,_AFFINITY_set (0.00s)
    --- PASS: Test_processAffinityEnvVar/default_env_var,_AFFINITY_not_set (0.00s)
PASS
ok  	github.com/che-incubator/kubernetes-image-puller/cfg	0.061s
?   	github.com/che-incubator/kubernetes-image-puller/pkg/single-cluster	[no test files]
=== RUN   TestArguments
--- PASS: TestArguments (1.40s)
PASS
ok  	github.com/che-incubator/kubernetes-image-puller/sleep	1.406s
=== RUN   TestGetContainers
=== RUN   TestGetContainers/two_containers
2022/08/28 08:52:37 No value found for DAEMONSET_NAME. Using default value of kubernetes-image-puller
2022/08/28 08:52:37 No value found for NAMESPACE. Using default value of k8s-image-puller
2022/08/28 08:52:37 Processing images from configuration...
2022/08/28 08:52:37 Image: che-theia=eclipse/che-theia:nightly
2022/08/28 08:52:37 Image: che-plugin-registry=quay.io/eclipse/che-plugin-registry:nightly
2022/08/28 08:52:37 No value found for CACHING_MEMORY_REQUEST. Using default value of 1Mi
2022/08/28 08:52:37 No value found for CACHING_MEMORY_LIMIT. Using default value of 5Mi
2022/08/28 08:52:37 No value found for CACHING_CPU_REQUEST. Using default value of .05
2022/08/28 08:52:37 No value found for CACHING_CPU_LIMIT. Using default value of .2
2022/08/28 08:52:37 No value found for NODE_SELECTOR. Using default value of {}
2022/08/28 08:52:37 No value found for IMAGE_PULL_SECRETS. Using default value of 
2022/08/28 08:52:37 No value found for AFFINITY. Using default value of {}
2022/08/28 08:52:37 No value found for KIP_IMAGE. Using default value of quay.io/eclipse/kubernetes-image-puller:next
=== RUN   TestGetContainers/four_containers
2022/08/28 08:52:37 No value found for DAEMONSET_NAME. Using default value of kubernetes-image-puller
2022/08/28 08:52:37 No value found for NAMESPACE. Using default value of k8s-image-puller
2022/08/28 08:52:37 Processing images from configuration...
2022/08/28 08:52:37 Image: che-sidecar-java=quay.io/eclipse/che-sidecar-java:nightly
2022/08/28 08:52:37 Image: che-plugin-registry=quay.io/eclipse/che-plugin-registry:nightly
2022/08/28 08:52:37 Image: che-devfile-registry=quay.io/eclipse/che-devfile-registry:nightly
2022/08/28 08:52:37 Image: che-theia=quay.io/eclipse/che-theia:nightly
2022/08/28 08:52:37 No value found for CACHING_MEMORY_REQUEST. Using default value of 1Mi
2022/08/28 08:52:37 No value found for CACHING_MEMORY_LIMIT. Using default value of 5Mi
2022/08/28 08:52:37 No value found for CACHING_CPU_REQUEST. Using default value of .05
2022/08/28 08:52:37 No value found for CACHING_CPU_LIMIT. Using default value of .2
2022/08/28 08:52:37 No value found for NODE_SELECTOR. Using default value of {}
2022/08/28 08:52:37 No value found for IMAGE_PULL_SECRETS. Using default value of 
2022/08/28 08:52:37 No value found for AFFINITY. Using default value of {}
2022/08/28 08:52:37 No value found for KIP_IMAGE. Using default value of quay.io/eclipse/kubernetes-image-puller:next
--- PASS: TestGetContainers (0.00s)
    --- PASS: TestGetContainers/two_containers (0.00s)
    --- PASS: TestGetContainers/four_containers (0.00s)
PASS
ok  	github.com/che-incubator/kubernetes-image-puller/utils	0.014s
GOOS=linux go build -v -o ./bin/kubernetes-image-puller ./cmd/main.go
CGO_ENABLED=0 GOOS=linux go build -a -ldflags '-w -s' -a -installsuffix cgo -o ./bin/sleep ./sleep/sleep.go
COMMIT imagepuller:tmp
--> c36bc9056d3
Successfully tagged localhost/imagepuller:tmp
c36bc9056d39624015c72e4833dd962b4fc8476b570b78e003c2a82bccaebe50
<======= END BOOTSTRAP BUILD =======
Downloading resources.tgz
DIFF START *****
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/emicklei/go-restful@v0.0.0-20170410110728-ff4f55a20633 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/emicklei/go-restful@v0.0.0-20170410110728-ff4f55a20633
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/emicklei/go-restful@v0.0.0-20170410110728-ff4f55a20633	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/emicklei/go-restful@v0.0.0-20170410110728-ff4f55a20633	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/emicklei/go-restful v0.0.0-20170410110728-ff4f55a20633/go.mod h1:otzb+WCGbkyDHkqmQmT5YD2WR4BBwUdeQoFo8l/7tVs=
 
 go.sum database tree
-11996154
-MiRasYg/NH0oB5Jj8DHDXrkZvkWreB9JhgJNyhz8UB4=
+12075309
+G/hnrmoyi0Ogp204RjrXMKYqJjx+pCNZWGsp5TBQGbY=
 
-— sum.golang.org Az3grk4GM3aoQ/ZxLp/eAl9HDHuQhx6P8aQlsK1ahr3ArwMYB2OPOVtEs+HY94v7/iUxrwO66GswB3GnOto3r+chxgU=
+— sum.golang.org Az3griLny4uZZNYhAXz6BiZ/cbLfR9Eu+INJE0sUG6na1kgL7B3ramzP0vNyPHXvroXgF8JGVnZwDoFeRevh6DvN7g4=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/ghodss/yaml@v0.0.0-20150909031657-73d445a93680 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/ghodss/yaml@v0.0.0-20150909031657-73d445a93680
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/ghodss/yaml@v0.0.0-20150909031657-73d445a93680	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/ghodss/yaml@v0.0.0-20150909031657-73d445a93680	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/ghodss/yaml v0.0.0-20150909031657-73d445a93680/go.mod h1:4dBDuWmgqj2HViK6kFavaiC9ZROes6MMH2rRYeMEF04=
 
 go.sum database tree
-11995861
-XqCxGgrEdcfPhNanZd52RJeO0DBpV7XkO2v96r2R8Gk=
+12075321
+2PuOrDD0Abgecpls45IFGEQBJ/ByXxOzoNrNTki5gMc=
 
-— sum.golang.org Az3grg2QFHovZVXS4IuFhd6x2P/7dhAOJKW2MCgDjjxNDogdjuVar7um7Xr5274kC7oefYVEmkOI4+5ISuP+QRjjsw4=
+— sum.golang.org Az3grvgfnQb/8o86K+9tWvgJxl1aCzJ9DxnDKdc8WbRwP3GFf037gJ7jDoeA0B69+zVb8b+bA1Ll4AhOOZvz6dq+vQM=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonpointer@v0.0.0-20160704185906-46af16f9f7b1 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonpointer@v0.0.0-20160704185906-46af16f9f7b1
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonpointer@v0.0.0-20160704185906-46af16f9f7b1	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonpointer@v0.0.0-20160704185906-46af16f9f7b1	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/go-openapi/jsonpointer v0.0.0-20160704185906-46af16f9f7b1/go.mod h1:+35s3my2LFTysnkMfxsJBAMHj/DoqoB9knIWoYG/Vk0=
 
 go.sum database tree
-11995660
-4K7WsZD1X+BeaHF9spKzv5zyaVvord8fHtVcX2eTkjA=
+12075321
+2PuOrDD0Abgecpls45IFGEQBJ/ByXxOzoNrNTki5gMc=
 
-— sum.golang.org Az3grjZ1UpbKb0+AMoJ79TKTyi8x30/M5Dw+Y+djQC3/G6WHYuqhpTf8e7RG8SkQvn/V/qEVIZLafSnf6fX+xSXnuAE=
+— sum.golang.org Az3grvgfnQb/8o86K+9tWvgJxl1aCzJ9DxnDKdc8WbRwP3GFf037gJ7jDoeA0B69+zVb8b+bA1Ll4AhOOZvz6dq+vQM=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonreference@v0.0.0-20160704190145-13c6e3589ad9 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonreference@v0.0.0-20160704190145-13c6e3589ad9
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonreference@v0.0.0-20160704190145-13c6e3589ad9	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonreference@v0.0.0-20160704190145-13c6e3589ad9	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/go-openapi/jsonreference v0.0.0-20160704190145-13c6e3589ad9/go.mod h1:W3Z9FmVs9qj+KR4zFKmDPGiLdk1D9Rlm7cyMvf57TTg=
 
 go.sum database tree
-11995660
-4K7WsZD1X+BeaHF9spKzv5zyaVvord8fHtVcX2eTkjA=
+12075578
+TC0Lg1RUJyuOC68G2qtR1pTm8jH29dbtEWqc71Q5dok=
 
-— sum.golang.org Az3grjZ1UpbKb0+AMoJ79TKTyi8x30/M5Dw+Y+djQC3/G6WHYuqhpTf8e7RG8SkQvn/V/qEVIZLafSnf6fX+xSXnuAE=
+— sum.golang.org Az3grmzKA5gphz/jPTaMQ3RN68o+7yedU6FGZ592YoxysMKP4fIexCAiEY1e92iYBuRHEfsJLuwJ4IIT6jTanHsUBA4=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/spec@v0.0.0-20160808142527-6aced65f8501 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/spec@v0.0.0-20160808142527-6aced65f8501
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/spec@v0.0.0-20160808142527-6aced65f8501	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/spec@v0.0.0-20160808142527-6aced65f8501	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/go-openapi/spec v0.0.0-20160808142527-6aced65f8501/go.mod h1:J8+jY1nAiCcj+friV/PDoE1/3eeccG9LYBs0tYvLOWc=
 
 go.sum database tree
-11996264
-FKIfZO7A4VuSg1Qx10CfpgZFmU3J9DtT16lYfCmIiCA=
+12075321
+2PuOrDD0Abgecpls45IFGEQBJ/ByXxOzoNrNTki5gMc=
 
-— sum.golang.org Az3grnnfYhW0vW5NUBi31EvG816Zn4McZip2BboSwUKUw5+epu72o7sHy2Z4r+XCDfNPVQBQcNsESfJx5swGm3BQDQs=
+— sum.golang.org Az3grvgfnQb/8o86K+9tWvgJxl1aCzJ9DxnDKdc8WbRwP3GFf037gJ7jDoeA0B69+zVb8b+bA1Ll4AhOOZvz6dq+vQM=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/swag@v0.0.0-20160704191624-1d0bd113de87 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/swag@v0.0.0-20160704191624-1d0bd113de87
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/swag@v0.0.0-20160704191624-1d0bd113de87	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/swag@v0.0.0-20160704191624-1d0bd113de87	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/go-openapi/swag v0.0.0-20160704191624-1d0bd113de87/go.mod h1:DXUve3Dpr1UfpPtxFw+EFuQ41HhCWZfha5jSVRG7C7I=
 
 go.sum database tree
-11995660
-4K7WsZD1X+BeaHF9spKzv5zyaVvord8fHtVcX2eTkjA=
+12075321
+2PuOrDD0Abgecpls45IFGEQBJ/ByXxOzoNrNTki5gMc=
 
-— sum.golang.org Az3grjZ1UpbKb0+AMoJ79TKTyi8x30/M5Dw+Y+djQC3/G6WHYuqhpTf8e7RG8SkQvn/V/qEVIZLafSnf6fX+xSXnuAE=
+— sum.golang.org Az3grvgfnQb/8o86K+9tWvgJxl1aCzJ9DxnDKdc8WbRwP3GFf037gJ7jDoeA0B69+zVb8b+bA1Ll4AhOOZvz6dq+vQM=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/mailru/easyjson@v0.0.0-20160728113105-d5b7844b561a /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/mailru/easyjson@v0.0.0-20160728113105-d5b7844b561a
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/mailru/easyjson@v0.0.0-20160728113105-d5b7844b561a	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/mailru/easyjson@v0.0.0-20160728113105-d5b7844b561a	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/mailru/easyjson v0.0.0-20160728113105-d5b7844b561a/go.mod h1:C1wdFJiN94OJF2b5HbByQZoLdCWB1Yqtg26g4irojpc=
 
 go.sum database tree
-11996051
-jsizDbrVrc2RhlI+luUGElSNJ/NEY/EBh3AL3RxLbG0=
+12075578
+TC0Lg1RUJyuOC68G2qtR1pTm8jH29dbtEWqc71Q5dok=
 
-— sum.golang.org Az3grjHOZYI2yqz56XwcHcGtbdTUm4ozgpCOS1fKYMsmOYQ3vNvKKt25EMwOpWtaL1jkMRt2G/ULclSgB7bmvllA5QQ=
+— sum.golang.org Az3grmzKA5gphz/jPTaMQ3RN68o+7yedU6FGZ592YoxysMKP4fIexCAiEY1e92iYBuRHEfsJLuwJ4IIT6jTanHsUBA4=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/munnerz/goautoneg@v0.0.0-20120707110453-a547fc61f48d /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/munnerz/goautoneg@v0.0.0-20120707110453-a547fc61f48d
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/munnerz/goautoneg@v0.0.0-20120707110453-a547fc61f48d	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/munnerz/goautoneg@v0.0.0-20120707110453-a547fc61f48d	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/munnerz/goautoneg v0.0.0-20120707110453-a547fc61f48d/go.mod h1:+n7T8mK8HuQTcFwEeznm/DIxMOiR9yIdICNftLE1DvQ=
 
 go.sum database tree
-11996154
-MiRasYg/NH0oB5Jj8DHDXrkZvkWreB9JhgJNyhz8UB4=
+12075110
+UKn6+IOUisIe5EuVuhA+AENx7UEM9BdON3bOSjHBoB8=
 
-— sum.golang.org Az3grk4GM3aoQ/ZxLp/eAl9HDHuQhx6P8aQlsK1ahr3ArwMYB2OPOVtEs+HY94v7/iUxrwO66GswB3GnOto3r+chxgU=
+— sum.golang.org Az3grkmguu0h5zj4VDiYlpNnqvh1SblUT8bDbEO0E+mG5YSAA5hN8/kCno+QVAAqPoUdgp6rW5dFJzOOKg4IX/ZwSgo=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!n!y!times/gziphandler@v0.0.0-20170623195520-56545f4a5d46 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!n!y!times/gziphandler@v0.0.0-20170623195520-56545f4a5d46
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!n!y!times/gziphandler@v0.0.0-20170623195520-56545f4a5d46	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!n!y!times/gziphandler@v0.0.0-20170623195520-56545f4a5d46	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/NYTimes/gziphandler v0.0.0-20170623195520-56545f4a5d46/go.mod h1:3wb06e3pkSAbeQ52E9H9iFoQsEEwGN64994WTCIhntQ=
 
 go.sum database tree
-11996154
-MiRasYg/NH0oB5Jj8DHDXrkZvkWreB9JhgJNyhz8UB4=
+12075140
+W7LLK0NaCt/bE9t4IRSUb1976vUekQCTAaLiIFl4gas=
 
-— sum.golang.org Az3grk4GM3aoQ/ZxLp/eAl9HDHuQhx6P8aQlsK1ahr3ArwMYB2OPOVtEs+HY94v7/iUxrwO66GswB3GnOto3r+chxgU=
+— sum.golang.org Az3grlmGHPBR+3x9biFR082Ao20GP575/HATLd57KcerZnO4qdfbJGJWLPXghDqDMbwqOA9BlJxE4saWq6H5qK1ZIA0=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/ginkgo@v0.0.0-20170829012221-11459a886d9c /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/ginkgo@v0.0.0-20170829012221-11459a886d9c
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/ginkgo@v0.0.0-20170829012221-11459a886d9c	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/ginkgo@v0.0.0-20170829012221-11459a886d9c	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/onsi/ginkgo v0.0.0-20170829012221-11459a886d9c/go.mod h1:lLunBs/Ym6LB5Z9jYTR76FiuTmxDTDusOGeTQH+WWjE=
 
 go.sum database tree
-11995756
-aqqCxVlhVyps46vUeeWz9tEFQsy8pW3zlxgkefawR/Q=
+12075321
+2PuOrDD0Abgecpls45IFGEQBJ/ByXxOzoNrNTki5gMc=
 
-— sum.golang.org Az3grlAyUPSb1ee/zUt2dmJnXWhq7DZ93OBPeytv+T9aDd8ckZjhKY3NU6qrQXvOfXvDziRwdp3wbKJliRDVWXVANAo=
+— sum.golang.org Az3grvgfnQb/8o86K+9tWvgJxl1aCzJ9DxnDKdc8WbRwP3GFf037gJ7jDoeA0B69+zVb8b+bA1Ll4AhOOZvz6dq+vQM=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/gomega@v0.0.0-20170829124025-dcabb60a477c /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/gomega@v0.0.0-20170829124025-dcabb60a477c
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/gomega@v0.0.0-20170829124025-dcabb60a477c	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/gomega@v0.0.0-20170829124025-dcabb60a477c	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/onsi/gomega v0.0.0-20170829124025-dcabb60a477c/go.mod h1:C1qb7wdrVGGVU+Z6iS04AVkA3Q65CEZX59MT0QO5uiA=
 
 go.sum database tree
-11995710
-H1UkiNm4QRB9RxdNLqBhH6qLbnz0Fqrp9o0/ph5eCFU=
+12075321
+2PuOrDD0Abgecpls45IFGEQBJ/ByXxOzoNrNTki5gMc=
 
-— sum.golang.org Az3grgp3u+Zslaq0EtlTDkMJoQAaw+cIUbZSnhREx0azltJb+wevTh2W6+2kNjrIIKLHUoxTkg1zSWX9M7INB6WoCAc=
+— sum.golang.org Az3grvgfnQb/8o86K+9tWvgJxl1aCzJ9DxnDKdc8WbRwP3GFf037gJ7jDoeA0B69+zVb8b+bA1Ll4AhOOZvz6dq+vQM=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/purell@v1.0.0 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/purell@v1.0.0
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/purell@v1.0.0	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/purell@v1.0.0	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/PuerkitoBio/purell v1.0.0/go.mod h1:c11w/QuzBsJSee3cPx9rAFu61PvFxuPbtSwDGJws/X0=
 
 go.sum database tree
-11995660
-4K7WsZD1X+BeaHF9spKzv5zyaVvord8fHtVcX2eTkjA=
+12075321
+2PuOrDD0Abgecpls45IFGEQBJ/ByXxOzoNrNTki5gMc=
 
-— sum.golang.org Az3grjZ1UpbKb0+AMoJ79TKTyi8x30/M5Dw+Y+djQC3/G6WHYuqhpTf8e7RG8SkQvn/V/qEVIZLafSnf6fX+xSXnuAE=
+— sum.golang.org Az3grvgfnQb/8o86K+9tWvgJxl1aCzJ9DxnDKdc8WbRwP3GFf037gJ7jDoeA0B69+zVb8b+bA1Ll4AhOOZvz6dq+vQM=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/urlesc@v0.0.0-20160726150825-5bd2802263f2 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/urlesc@v0.0.0-20160726150825-5bd2802263f2
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/urlesc@v0.0.0-20160726150825-5bd2802263f2	2022-08-21 10:50:21.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/urlesc@v0.0.0-20160726150825-5bd2802263f2	2022-08-28 04:51:54.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/PuerkitoBio/urlesc v0.0.0-20160726150825-5bd2802263f2/go.mod h1:uGdkoq3SwY9Y+13GIhn11/XLaGBb4BfwItxLd5jeuXE=
 
 go.sum database tree
-11995660
-4K7WsZD1X+BeaHF9spKzv5zyaVvord8fHtVcX2eTkjA=
+12075578
+TC0Lg1RUJyuOC68G2qtR1pTm8jH29dbtEWqc71Q5dok=
 
-— sum.golang.org Az3grjZ1UpbKb0+AMoJ79TKTyi8x30/M5Dw+Y+djQC3/G6WHYuqhpTf8e7RG8SkQvn/V/qEVIZLafSnf6fX+xSXnuAE=
+— sum.golang.org Az3grmzKA5gphz/jPTaMQ3RN68o+7yedU6FGZ592YoxysMKP4fIexCAiEY1e92iYBuRHEfsJLuwJ4IIT6jTanHsUBA4=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/tools@v0.0.0-20181011042414-1f849cf54d09 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/tools@v0.0.0-20181011042414-1f849cf54d09
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/tools@v0.0.0-20181011042414-1f849cf54d09	2022-08-21 10:50:22.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/tools@v0.0.0-20181011042414-1f849cf54d09	2022-08-28 04:51:55.000000000 -0400
@@ -3,7 +3,7 @@
 golang.org/x/tools v0.0.0-20181011042414-1f849cf54d09/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 
 go.sum database tree
-11996310
-e6ubZi6ur5l7kRENqeoM1N5CsUVpknCPLKAf93gfW+c=
+12075578
+TC0Lg1RUJyuOC68G2qtR1pTm8jH29dbtEWqc71Q5dok=
 
-— sum.golang.org Az3grvgrS9fv6/L4luiifqod3YOx56UZzvbOrIOfaXf/6XsK9galFtXNRxiHG4o077AnW9CoPGSxoqiAcAwQS1flMwI=
+— sum.golang.org Az3grmzKA5gphz/jPTaMQ3RN68o+7yedU6FGZ592YoxysMKP4fIexCAiEY1e92iYBuRHEfsJLuwJ4IIT6jTanHsUBA4=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/xerrors@v0.0.0-20191204190536-9bdfabe68543 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/xerrors@v0.0.0-20191204190536-9bdfabe68543
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/xerrors@v0.0.0-20191204190536-9bdfabe68543	2022-08-21 10:50:22.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/xerrors@v0.0.0-20191204190536-9bdfabe68543	2022-08-28 04:51:55.000000000 -0400
@@ -3,7 +3,7 @@
 golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
 
 go.sum database tree
-11995954
-6smo0QJNrhZbndovj29049fZSLjlyiLIcDHA+LKFzBk=
+12075053
+dJg200hpyg4z6tHczA5UQK+ABIoUBarAFj8Dl5Tk8GI=
 
-— sum.golang.org Az3grnKc8wzHjOhKnaROajapPB3tntR/4LC/97KjoG4D1aVRZMgAoVSuEmlt9j960uOJpH43CwzfhraVD1BEWOc9uA8=
+— sum.golang.org Az3grhKu3CP2Zut5qlVnoDIYs637VIfY2lLpJU+h8ua7Cv5vWtmlV9wQs1CoktnRWf0cNAaZWarxD/HWoATUfsapegw=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/k8s.io/gengo@v0.0.0-20190128074634-0689ccc1d7d6 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/k8s.io/gengo@v0.0.0-20190128074634-0689ccc1d7d6
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/k8s.io/gengo@v0.0.0-20190128074634-0689ccc1d7d6	2022-08-21 10:50:22.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/k8s.io/gengo@v0.0.0-20190128074634-0689ccc1d7d6	2022-08-28 04:51:55.000000000 -0400
@@ -3,7 +3,7 @@
 k8s.io/gengo v0.0.0-20190128074634-0689ccc1d7d6/go.mod h1:ezvh/TsK7cY6rbqRK0oQQ8IAqLxYwwyPxAX1Pzy0ii0=
 
 go.sum database tree
-11996051
-jsizDbrVrc2RhlI+luUGElSNJ/NEY/EBh3AL3RxLbG0=
+12075618
+EnSoJvCKL85yQARzVnP6IeajH9Q7b+qbpA5C2KQV1Lk=
 
-— sum.golang.org Az3grjHOZYI2yqz56XwcHcGtbdTUm4ozgpCOS1fKYMsmOYQ3vNvKKt25EMwOpWtaL1jkMRt2G/ULclSgB7bmvllA5QQ=
+— sum.golang.org Az3gruubQRr/9RRH4rXp9QhlvcgxCE2X96WG5g+BgJGyBW1W8oVkkWjtyTB/B3eofLEi8lWBB+iDF292cv2jrjJnCgc=
diff --suppress-common-lines -u -r /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/sigs.k8s.io/structured-merge-diff/v3@v3.0.0-20200116222232-67a7b8c61874 /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/sigs.k8s.io/structured-merge-diff/v3@v3.0.0-20200116222232-67a7b8c61874
--- /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/sigs.k8s.io/structured-merge-diff/v3@v3.0.0-20200116222232-67a7b8c61874	2022-08-21 10:50:22.000000000 -0400
+++ /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/sigs.k8s.io/structured-merge-diff/v3@v3.0.0-20200116222232-67a7b8c61874	2022-08-28 04:51:56.000000000 -0400
@@ -3,7 +3,7 @@
 sigs.k8s.io/structured-merge-diff/v3 v3.0.0-20200116222232-67a7b8c61874/go.mod h1:PlARxl6Hbt/+BC80dRLi1qAmnMqwqDg62YvvVkZjemw=
 
 go.sum database tree
-11996329
-VjJn9BzzyEG105R0WeNs4+3bsdNd4prBWdhJi6msV1o=
+12075903
+5A9Wq21S2jrosb8bZ5t/u9MtLIhzL+QWJpnEnUDSOsA=
 
-— sum.golang.org Az3gruMsXyozHOerUp7/Q9SfN5Uv3GUKDIYWLpvpTRX7CAroEE4O9JZGTgr2gB1dRlNHC0YxhwRPaQfzbDuknsSwUAg=
+— sum.golang.org Az3grp13bVG4kFglrk6RZkOJyfwrU9Q0ArR/jnDmbMCWiiYYxXJByUvybgqbgExRVCjKSyBb/J3l9AMCjJW5IZNTRAg=
Only in /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/0: x046
Only in /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/0: x047
Only in /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/1: 183.p
Only in /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/1: 184.p
Only in /tmp/tmp.1x0IfSjwe3/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/2/000.p: 183
Only in /tmp/tmp.L1nCu5T768/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/2/000.p: 184
***** END DIFF
Untagged: localhost/imagepuller:tmp
Deleted: c36bc9056d39624015c72e4833dd962b4fc8476b570b78e003c2a82bccaebe50
Deleted: c81700a42c12f906f3bd16871f260b31ff618b6fa7e691cf857f4f5dbb4f563a
Deleted: 4d6fcd04330a6af4b73f101d66511fc5605438d22abce5514b91b86045a0a888
Deleted: 4bbac6996ea43a4228acbc6286a80b9393a7a209f4ccf6d91a4949a06896dd5e
Deleted: 2e3eb014f9621fab267ba5d7ae9914cb7e310fad91c460354b7e0f7391ee0c3a
Deleted: b65f0938d6aefb450d8e3ac8cad4a3ad7d637952ab6f865a5b067a2cc129a690
Deleted: 05ee1b10dd6a88bff05b3affbb802ef0fb934b801b5fcaca6b7c347ea144f6fb
Deleted: 553b78d7746e437d0b251ec9a6b8d5cbb52a6282c02643c86822bda7e4da981c
Deleted: 5646d3cace9294e4dd56135541d0c972bf69ee762b3edba41fab9183cd4a520e
Deleted: f6060bc034c815f669b259f2ed267b7c58765413d45d4f65a881548baf4bbb8f
Uploading: resources.tgz
Source upload succeeded. Don't forget to commit the sources file
rm 'resources.tgz'
