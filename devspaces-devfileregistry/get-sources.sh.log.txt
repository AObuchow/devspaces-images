======= BOOTSTRAP DOCKERFILE =======>
#
# Copyright (c) 2018-2022 Red Hat, Inc.
# This program and the accompanying materials are made
# available under the terms of the Eclipse Public License 2.0
# which is available at https://www.eclipse.org/legal/epl-2.0/
#
# SPDX-License-Identifier: EPL-2.0
#
# Contributors:
#   Red Hat, Inc. - initial API and implementation
#   IBM Corporation - implementation
#

# Builder: check meta.yamls and create index.json
# registry.access.redhat.com/ubi8/python-38
FROM registry-proxy.engineering.redhat.com/rh-osbs/ubi8-python-38:1-100 as builder
USER 0

ARG BOOTSTRAP=true
ENV BOOTSTRAP=${BOOTSTRAP}
# if not defined or string is null, allow all registries/tags in list_referenced_images
# otherwise restrict to only those space-separated registries/tags; if others found, build will fail
# useful for failing build if quay images in an RC, or wrong devspaces image tag (3.2 in 3.1 build)
ARG ALLOWED_REGISTRIES=""
ENV ALLOWED_REGISTRIES=${ALLOWED_REGISTRIES}
ARG ALLOWED_TAGS=""
ENV ALLOWED_TAGS=${ALLOWED_TAGS}

COPY ./build/dockerfiles/content_sets_rhel8.repo /etc/yum.repos.d/
COPY ./build/dockerfiles/rhel.install.sh /tmp
RUN /tmp/rhel.install.sh && rm -f /tmp/rhel.install.sh

COPY ./build/scripts ./versions.json /build/
COPY ./build/scripts/clone_and_zip.sh /build/build/scripts/
COPY ./VERSION /
COPY ./devfiles /build/devfiles
WORKDIR /build/

RUN ./generate_devworkspace_templates.sh
RUN chmod -R g+rwX /build/resources

# validate devfile content
RUN ./check_referenced_images.sh devfiles --registries "${ALLOWED_REGISTRIES}" --tags "${ALLOWED_TAGS}"
RUN ./check_mandatory_fields.sh devfiles

# Cache projects in DS 
COPY ./build/dockerfiles/rhel.cache_projects.sh /tmp/ 
RUN /tmp/rhel.cache_projects.sh /build/ && rm -rf /tmp/rhel.cache_projects.sh /tmp/resources.tgz 

# don't do swaps, or we end up with missing content if built on s390x or ppc64le worker
# RUN ./swap_yamlfiles.sh devfiles
# RUN ./swap_images.sh devfiles
RUN ./index.sh > /build/devfiles/index.json && \
    ./list_referenced_images.sh devfiles > /build/devfiles/external_images.txt && \
    ./list_referenced_images_by_file.sh devfiles > /build/devfiles/external_images_by_devfile.txt && \
    chmod -R g+rwX /build/devfiles

<======= BOOTSTRAP DOCKERFILE =======
======= START BOOTSTRAP BUILD =======>
STEP 1/23: FROM registry-proxy.engineering.redhat.com/rh-osbs/ubi8-python-38:1-100 AS builder
STEP 2/23: USER 0
--> b5d6a3b213b
STEP 3/23: ARG BOOTSTRAP=true
--> b8fc0a7c76f
STEP 4/23: ENV BOOTSTRAP=${BOOTSTRAP}
--> f7f047fa6ab
STEP 5/23: ARG ALLOWED_REGISTRIES=""
--> 2315e5ec644
STEP 6/23: ENV ALLOWED_REGISTRIES=${ALLOWED_REGISTRIES}
--> 36281165f11
STEP 7/23: ARG ALLOWED_TAGS=""
--> c374ca401fc
STEP 8/23: ENV ALLOWED_TAGS=${ALLOWED_TAGS}
--> 6b0540cd68a
STEP 9/23: COPY ./build/dockerfiles/content_sets_rhel8.repo /etc/yum.repos.d/
--> a1b775b4361
STEP 10/23: COPY ./build/dockerfiles/rhel.install.sh /tmp
--> 19db5f9df36
STEP 11/23: RUN /tmp/rhel.install.sh && rm -f /tmp/rhel.install.sh
Updating Subscription Management repositories.
Unable to read consumer identity
Subscription Manager is operating in container mode.

This system is not registered with an entitlement server. You can use subscription-manager to register.

Red Hat Enterprise Linux 8 for Power, little en  68 MB/s |  43 MB     00:00    
Red Hat Enterprise Linux 8 for Power, little en  64 MB/s |  42 MB     00:00    
Red Hat Universal Base Image 8 (RPMs) - BaseOS  977 kB/s | 577 kB     00:00    
Red Hat Universal Base Image 8 (RPMs) - AppStre 3.9 MB/s | 2.6 MB     00:00    
Red Hat Universal Base Image 8 (RPMs) - CodeRea  23 kB/s |  14 kB     00:00    
Package findutils-1:4.6.0-20.el8.ppc64le is already installed.
Package bash-4.4.20-3.el8.ppc64le is already installed.
Package wget-1.19.5-10.el8.ppc64le is already installed.
Package yum-4.7.0-8.el8.noarch is already installed.
Package git-2.31.1-2.el8.ppc64le is already installed.
Package gzip-1.9-13.el8_5.ppc64le is already installed.
Package tar-2:1.30-5.el8.ppc64le is already installed.
Package python3-six-1.11.0-8.el8.noarch is already installed.
Dependencies resolved.
================================================================================================================
 Package               Arch     Version                                 Repository                          Size
================================================================================================================
Installing:
 jq                    ppc64le  1.6-3.el8                               rhel-8-for-ppc64le-appstream-rpms  215 k
 python3-pip           noarch   9.0.3-22.el8                            rhel-8-for-ppc64le-appstream-rpms   20 k
 skopeo                ppc64le  2:1.8.0-2.module+el8.6.0+15917+093ca6f8 rhel-8-for-ppc64le-appstream-rpms  5.9 M
Upgrading:
 bash                  ppc64le  4.4.20-4.el8_6                          rhel-8-for-ppc64le-baseos-rpms     1.6 M
Installing dependencies:
 containers-common     ppc64le  2:1-35.module+el8.6.0+15917+093ca6f8    rhel-8-for-ppc64le-appstream-rpms  109 k
 criu                  ppc64le  3.15-3.module+el8.6.0+15875+dc9a2b96    rhel-8-for-ppc64le-appstream-rpms  536 k
 fuse-common           ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      22 k
 fuse3                 ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      57 k
 fuse3-libs            ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      99 k
 iptables-libs         ppc64le  1.8.4-22.el8                            rhel-8-for-ppc64le-baseos-rpms     114 k
 jansson               ppc64le  2.14-1.el8                              rhel-8-for-ppc64le-baseos-rpms      51 k
 kmod                  ppc64le  25-19.el8                               rhel-8-for-ppc64le-baseos-rpms     138 k
 libibverbs            ppc64le  37.2-1.el8                              rhel-8-for-ppc64le-baseos-rpms     412 k
 libmnl                ppc64le  1.0.4-6.el8                             rhel-8-for-ppc64le-baseos-rpms      31 k
 libnet                ppc64le  1.1.6-15.el8                            rhel-8-for-ppc64le-appstream-rpms   73 k
 libnftnl              ppc64le  1.1.5-5.el8                             rhel-8-for-ppc64le-baseos-rpms      88 k
 libpcap               ppc64le  14:1.9.1-5.el8                          rhel-8-for-ppc64le-baseos-rpms     176 k
 libslirp              ppc64le  4.4.0-1.module+el8.6.0+15875+dc9a2b96   rhel-8-for-ppc64le-appstream-rpms   74 k
 nftables              ppc64le  1:0.9.3-25.el8                          rhel-8-for-ppc64le-baseos-rpms     340 k
 oniguruma             ppc64le  6.8.2-2.el8                             rhel-8-for-ppc64le-appstream-rpms  199 k
 platform-python-pip   noarch   9.0.3-22.el8                            rhel-8-for-ppc64le-baseos-rpms     1.6 M
 protobuf-c            ppc64le  1.3.0-6.el8                             rhel-8-for-ppc64le-appstream-rpms   40 k
 python3-setuptools    noarch   39.2.0-6.el8                            rhel-8-for-ppc64le-baseos-rpms     163 k
 python36              ppc64le  3.6.8-38.module+el8.5.0+12207+5c5719bc  rhel-8-for-ppc64le-appstream-rpms   19 k
 runc                  ppc64le  1:1.1.3-2.module+el8.6.0+15917+093ca6f8 rhel-8-for-ppc64le-appstream-rpms  2.6 M
Installing weak dependencies:
 fuse-overlayfs        ppc64le  1.9-1.module+el8.6.0+15917+093ca6f8     rhel-8-for-ppc64le-appstream-rpms   74 k
 slirp4netns           ppc64le  1.2.0-2.module+el8.6.0+15917+093ca6f8   rhel-8-for-ppc64le-appstream-rpms   59 k
Enabling module streams:
 container-tools                rhel8                                                                           
 python36                       3.6                                                                             

Transaction Summary
================================================================================================================
Install  26 Packages
Upgrade   1 Package

Total download size: 15 M
Downloading Packages:
(1/27): libpcap-1.9.1-5.el8.ppc64le.rpm         1.5 MB/s | 176 kB     00:00    
(2/27): python3-setuptools-39.2.0-6.el8.noarch. 1.3 MB/s | 163 kB     00:00    
(3/27): oniguruma-6.8.2-2.el8.ppc64le.rpm       1.6 MB/s | 199 kB     00:00    
(4/27): python36-3.6.8-38.module+el8.5.0+12207+ 146 kB/s |  19 kB     00:00    
(5/27): libmnl-1.0.4-6.el8.ppc64le.rpm          219 kB/s |  31 kB     00:00    
(6/27): libnftnl-1.1.5-5.el8.ppc64le.rpm        2.3 MB/s |  88 kB     00:00    
(7/27): slirp4netns-1.2.0-2.module+el8.6.0+1591 2.1 MB/s |  59 kB     00:00    
(8/27): protobuf-c-1.3.0-6.el8.ppc64le.rpm      1.7 MB/s |  40 kB     00:00    
(9/27): criu-3.15-3.module+el8.6.0+15875+dc9a2b 7.7 MB/s | 536 kB     00:00    
(10/27): fuse3-3.3.0-15.el8.ppc64le.rpm         1.0 MB/s |  57 kB     00:00    
(11/27): python3-pip-9.0.3-22.el8.noarch.rpm    920 kB/s |  20 kB     00:00    
(12/27): libibverbs-37.2-1.el8.ppc64le.rpm      6.7 MB/s | 412 kB     00:00    
(13/27): containers-common-1-35.module+el8.6.0+ 3.9 MB/s | 109 kB     00:00    
(14/27): libslirp-4.4.0-1.module+el8.6.0+15875+ 1.6 MB/s |  74 kB     00:00    
(15/27): fuse3-libs-3.3.0-15.el8.ppc64le.rpm    2.0 MB/s |  99 kB     00:00    
(16/27): platform-python-pip-9.0.3-22.el8.noarc  11 MB/s | 1.6 MB     00:00    
(17/27): kmod-25-19.el8.ppc64le.rpm             3.0 MB/s | 138 kB     00:00    
(18/27): fuse-overlayfs-1.9-1.module+el8.6.0+15 2.3 MB/s |  74 kB     00:00    
(19/27): fuse-common-3.3.0-15.el8.ppc64le.rpm   747 kB/s |  22 kB     00:00    
(20/27): jq-1.6-3.el8.ppc64le.rpm               2.9 MB/s | 215 kB     00:00    
(21/27): jansson-2.14-1.el8.ppc64le.rpm         825 kB/s |  51 kB     00:00    
(22/27): nftables-0.9.3-25.el8.ppc64le.rpm      5.7 MB/s | 340 kB     00:00    
(23/27): iptables-libs-1.8.4-22.el8.ppc64le.rpm 2.8 MB/s | 114 kB     00:00    
(24/27): libnet-1.1.6-15.el8.ppc64le.rpm        1.8 MB/s |  73 kB     00:00    
(25/27): runc-1.1.3-2.module+el8.6.0+15917+093c  21 MB/s | 2.6 MB     00:00    
(26/27): bash-4.4.20-4.el8_6.ppc64le.rpm         16 MB/s | 1.6 MB     00:00    
(27/27): skopeo-1.8.0-2.module+el8.6.0+15917+09  14 MB/s | 5.9 MB     00:00    
--------------------------------------------------------------------------------
Total                                            33 MB/s |  15 MB     00:00     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Upgrading        : bash-4.4.20-4.el8_6.ppc64le                           1/28 
  Running scriptlet: bash-4.4.20-4.el8_6.ppc64le                           1/28 
  Installing       : fuse3-libs-3.3.0-15.el8.ppc64le                       2/28 
  Running scriptlet: fuse3-libs-3.3.0-15.el8.ppc64le                       2/28 
  Installing       : libmnl-1.0.4-6.el8.ppc64le                            3/28 
  Running scriptlet: libmnl-1.0.4-6.el8.ppc64le                            3/28 
  Installing       : libnftnl-1.1.5-5.el8.ppc64le                          4/28 
  Running scriptlet: libnftnl-1.1.5-5.el8.ppc64le                          4/28 
  Installing       : libibverbs-37.2-1.el8.ppc64le                         5/28 
  Running scriptlet: libibverbs-37.2-1.el8.ppc64le                         5/28 
  Installing       : libpcap-14:1.9.1-5.el8.ppc64le                        6/28 
  Installing       : iptables-libs-1.8.4-22.el8.ppc64le                    7/28 
  Installing       : kmod-25-19.el8.ppc64le                                8/28 
  Installing       : libnet-1.1.6-15.el8.ppc64le                           9/28 
  Running scriptlet: libnet-1.1.6-15.el8.ppc64le                           9/28 
  Installing       : libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc   10/28 
  Installing       : slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.   11/28 
  Installing       : protobuf-c-1.3.0-6.el8.ppc64le                       12/28 
  Installing       : oniguruma-6.8.2-2.el8.ppc64le                        13/28 
  Running scriptlet: oniguruma-6.8.2-2.el8.ppc64le                        13/28 
  Installing       : fuse-common-3.3.0-15.el8.ppc64le                     14/28 
  Installing       : fuse3-3.3.0-15.el8.ppc64le                           15/28 
  Installing       : fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   16/28 
  Running scriptlet: fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   16/28 
  Installing       : jansson-2.14-1.el8.ppc64le                           17/28 
  Installing       : nftables-1:0.9.3-25.el8.ppc64le                      18/28 
  Running scriptlet: nftables-1:0.9.3-25.el8.ppc64le                      18/28 
  Installing       : criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le    19/28 
  Installing       : runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64   20/28 
  Installing       : containers-common-2:1-35.module+el8.6.0+15917+093c   21/28 
  Installing       : platform-python-pip-9.0.3-22.el8.noarch              22/28 
  Installing       : python3-setuptools-39.2.0-6.el8.noarch               23/28 
  Installing       : python3-pip-9.0.3-22.el8.noarch                      24/28 
  Installing       : python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   25/28 
  Running scriptlet: python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   25/28 
  Installing       : skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc   26/28 
  Installing       : jq-1.6-3.el8.ppc64le                                 27/28 
  Cleanup          : bash-4.4.20-3.el8.ppc64le                            28/28 
  Running scriptlet: bash-4.4.20-3.el8.ppc64le                            28/28 
  Verifying        : libmnl-1.0.4-6.el8.ppc64le                            1/28 
  Verifying        : python3-setuptools-39.2.0-6.el8.noarch                2/28 
  Verifying        : libpcap-14:1.9.1-5.el8.ppc64le                        3/28 
  Verifying        : platform-python-pip-9.0.3-22.el8.noarch               4/28 
  Verifying        : libnftnl-1.1.5-5.el8.ppc64le                          5/28 
  Verifying        : fuse3-3.3.0-15.el8.ppc64le                            6/28 
  Verifying        : libibverbs-37.2-1.el8.ppc64le                         7/28 
  Verifying        : fuse3-libs-3.3.0-15.el8.ppc64le                       8/28 
  Verifying        : kmod-25-19.el8.ppc64le                                9/28 
  Verifying        : jansson-2.14-1.el8.ppc64le                           10/28 
  Verifying        : nftables-1:0.9.3-25.el8.ppc64le                      11/28 
  Verifying        : fuse-common-3.3.0-15.el8.ppc64le                     12/28 
  Verifying        : iptables-libs-1.8.4-22.el8.ppc64le                   13/28 
  Verifying        : skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc   14/28 
  Verifying        : python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   15/28 
  Verifying        : oniguruma-6.8.2-2.el8.ppc64le                        16/28 
  Verifying        : criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le    17/28 
  Verifying        : slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.   18/28 
  Verifying        : protobuf-c-1.3.0-6.el8.ppc64le                       19/28 
  Verifying        : python3-pip-9.0.3-22.el8.noarch                      20/28 
  Verifying        : libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc   21/28 
  Verifying        : containers-common-2:1-35.module+el8.6.0+15917+093c   22/28 
  Verifying        : jq-1.6-3.el8.ppc64le                                 23/28 
  Verifying        : fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   24/28 
  Verifying        : runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64   25/28 
  Verifying        : libnet-1.1.6-15.el8.ppc64le                          26/28 
  Verifying        : bash-4.4.20-4.el8_6.ppc64le                          27/28 
  Verifying        : bash-4.4.20-3.el8.ppc64le                            28/28 
Installed products updated.

Upgraded:
  bash-4.4.20-4.el8_6.ppc64le                                                   
Installed:
  containers-common-2:1-35.module+el8.6.0+15917+093ca6f8.ppc64le                
  criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le                             
  fuse-common-3.3.0-15.el8.ppc64le                                              
  fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8.ppc64le                    
  fuse3-3.3.0-15.el8.ppc64le                                                    
  fuse3-libs-3.3.0-15.el8.ppc64le                                               
  iptables-libs-1.8.4-22.el8.ppc64le                                            
  jansson-2.14-1.el8.ppc64le                                                    
  jq-1.6-3.el8.ppc64le                                                          
  kmod-25-19.el8.ppc64le                                                        
  libibverbs-37.2-1.el8.ppc64le                                                 
  libmnl-1.0.4-6.el8.ppc64le                                                    
  libnet-1.1.6-15.el8.ppc64le                                                   
  libnftnl-1.1.5-5.el8.ppc64le                                                  
  libpcap-14:1.9.1-5.el8.ppc64le                                                
  libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc64le                        
  nftables-1:0.9.3-25.el8.ppc64le                                               
  oniguruma-6.8.2-2.el8.ppc64le                                                 
  platform-python-pip-9.0.3-22.el8.noarch                                       
  protobuf-c-1.3.0-6.el8.ppc64le                                                
  python3-pip-9.0.3-22.el8.noarch                                               
  python3-setuptools-39.2.0-6.el8.noarch                                        
  python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.ppc64le                       
  runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64le                          
  skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc64le                        
  slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.ppc64le                     

Complete!
Collecting yq
  Downloading https://files.pythonhosted.org/packages/60/2c/ab35b5ec3b884b6e33b18ba3f6be6b94d607501fca1e5a8de22988690cdb/yq-3.1.0-py3-none-any.whl
Collecting PyYAML>=5.3.1
  Downloading https://files.pythonhosted.org/packages/36/2b/61d51a2c4f25ef062ae3f74576b01638bebad5e045f747ff12643df63844/PyYAML-6.0.tar.gz (124kB)
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
    Preparing wheel metadata: started
    Preparing wheel metadata: finished with status 'done'
Collecting toml>=0.10.0
  Downloading https://files.pythonhosted.org/packages/44/6f/7120676b6d73228c96e17f1f794d8ab046fc910d781c8d151120c3f1569e/toml-0.10.2-py2.py3-none-any.whl
Collecting xmltodict>=0.11.0
  Downloading https://files.pythonhosted.org/packages/94/db/fd0326e331726f07ff7f40675cd86aa804bfd2e5016c727fa761c934990e/xmltodict-0.13.0-py2.py3-none-any.whl
Collecting argcomplete>=1.8.1
  Downloading https://files.pythonhosted.org/packages/d3/e5/c5509683462e51b070df9e83e7f72c1ccfe3f733f328b4a0f06804c27278/argcomplete-2.0.0-py2.py3-none-any.whl
Building wheels for collected packages: PyYAML
  Building wheel for PyYAML (PEP 517): started
  Building wheel for PyYAML (PEP 517): finished with status 'done'
  Created wheel for PyYAML: filename=PyYAML-6.0-cp38-cp38-linux_ppc64le.whl size=45333 sha256=600058518cdd0b4cc18f3a46a88fb999d150942083f543097c378e9a4b8e03c9
  Stored in directory: /tmp/pip-ephem-wheel-cache-j0wflt2u/wheels/95/84/67/ebeac632c63797cfbeb90128ca41073117721540dad526d213
Successfully built PyYAML
Installing collected packages: PyYAML, toml, xmltodict, argcomplete, yq
Successfully installed PyYAML-6.0 argcomplete-2.0.0 toml-0.10.2 xmltodict-0.13.0 yq-3.1.0
python: Python 3.8.12
yq: yq 3.1.0
jq: jq-1.6
--> e554726abae
STEP 12/23: COPY ./build/scripts ./versions.json /build/
--> 11792f0f846
STEP 13/23: COPY ./build/scripts/clone_and_zip.sh /build/build/scripts/
--> ef8c250fb61
STEP 14/23: COPY ./VERSION /
--> cd115bfcdda
STEP 15/23: COPY ./devfiles /build/devfiles
--> 7ea1db5d1d0
STEP 16/23: WORKDIR /build/
--> d9a2621896a
STEP 17/23: RUN ./generate_devworkspace_templates.sh

> core-js@2.6.12 postinstall /build/node_modules/core-js
> node -e "try{require('./postinstall')}catch(e){}"

[96mThank you for using core-js ([94m https://github.com/zloirock/core-js [96m) for polyfilling JavaScript standard library![0m

[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: [0m
[96m>[94m https://opencollective.com/core-js [0m
[96m>[94m https://www.patreon.com/zloirock [0m

[96mAlso, the author of core-js ([94m https://github.com/zloirock [96m) is looking for a good job -)[0m

+ @eclipse-che/che-theia-devworkspace-handler@0.0.1-1649678182
added 121 packages from 182 contributors and audited 121 packages in 11.167s

4 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

+ @eclipse-che/che-code-devworkspace-handler@1.64.0-dev-210b722
added 2 packages from 1 contributor and audited 240 packages in 1.955s

4 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
--> e606a6039ed
STEP 18/23: RUN chmod -R g+rwX /build/resources
--> 3cbca3e5ae2
STEP 19/23: RUN ./check_referenced_images.sh devfiles --registries "${ALLOWED_REGISTRIES}" --tags "${ALLOWED_TAGS}"
 + quay.io/devspaces/code-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/machineexec-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/theia-endpoint-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/theia-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/udi-rhel8:3.3 PASS - 3.3 allowed
 = registry.redhat.io/jboss-eap-7/eap74-openjdk11-openshift-rhel8:7.4.4 PASS
 = registry.redhat.io/jboss-eap-7/eap-xp3-openjdk11-openshift-rhel8:3.0 PASS
 = registry.redhat.io/rhscl/mongodb-36-rhel7:1-50 PASS
--> fb731e094e1
STEP 20/23: RUN ./check_mandatory_fields.sh devfiles
Checking devfile 'devfiles/00_java11-maven-eap/meta.yaml'
Checking devfile 'devfiles/00_java11-maven-microprofile-xp3/meta.yaml'
Checking devfile 'devfiles/03_camelk/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-gradle/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-lombok/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-quarkus/meta.yaml'
Checking devfile 'devfiles/04_nodejs-mongo/meta.yaml'
Checking devfile 'devfiles/04_nodejs-simple/meta.yaml'
Checking devfile 'devfiles/04_python/meta.yaml'
Checking devfile 'devfiles/05_cpp/meta.yaml'
Checking devfile 'devfiles/05_go/meta.yaml'
Checking devfile 'devfiles/05_php-cake/meta.yaml'
Checking devfile 'devfiles/05_php-di/meta.yaml'
--> 8c38092fd96
STEP 21/23: COPY ./build/dockerfiles/rhel.cache_projects.sh /tmp/ 
--> 7f1118cab6c
STEP 22/23: RUN /tmp/rhel.cache_projects.sh /build/ && rm -rf /tmp/rhel.cache_projects.sh /tmp/resources.tgz 
--> 9ff16073b15
STEP 23/23: RUN ./index.sh > /build/devfiles/index.json &&     ./list_referenced_images.sh devfiles > /build/devfiles/external_images.txt &&     ./list_referenced_images_by_file.sh devfiles > /build/devfiles/external_images_by_devfile.txt &&     chmod -R g+rwX /build/devfiles
COMMIT devfileregistry:tmp
--> 9335c78f281
Successfully tagged localhost/devfileregistry:tmp
9335c78f28114f4ca14758a7c2906441682bccb30791902e5dfb33d80bc31711
<======= END BOOTSTRAP BUILD =======
Downloading root-local.tgz
Downloading resources.tgz
DIFF START *****
diff --suppress-common-lines -u -r /tmp/tmp.T3LISUxif5/devfiles/00_java11-maven-eap/devworkspace-che-theia-latest.yaml /tmp/tmp.VOB0xAKpSf/devfiles/00_java11-maven-eap/devworkspace-che-theia-latest.yaml
--- /tmp/tmp.T3LISUxif5/devfiles/00_java11-maven-eap/devworkspace-che-theia-latest.yaml	2022-09-11 08:55:43.000000000 +0000
+++ /tmp/tmp.VOB0xAKpSf/devfiles/00_java11-maven-eap/devworkspace-che-theia-latest.yaml	2022-09-13 17:45:20.278533985 +0000
@@ -175,11 +175,11 @@
             - >-
               relative:extension/resources/github_com/redhat-developer/devspaces-vscode-extensions/releases/download/7_44-che-assets/java-0.82.0-369.vsix
             - >-
-              relative:extension/resources/github_com/fabric8-analytics/fabric8-analytics-vscode-extension/releases/download/0_3_6/fabric8-analytics-0.3.6.vsix
-            - >-
               relative:extension/resources/github_com/redhat-developer/devspaces-vscode-extensions/releases/download/7_44-che-assets/vscode-java-debug-0.26.0.vsix
             - >-
               relative:extension/resources/open-vsx_org/api/vscjava/vscode-java-test/0_28_1/file/vscjava.vscode-java-test-0.28.1.vsix
+            - >-
+              relative:extension/resources/github_com/fabric8-analytics/fabric8-analytics-vscode-extension/releases/download/0_3_6/fabric8-analytics-0.3.6.vsix
           che-theia.eclipse.org/vscode-preferences:
             java.server.launchMode: Standard
           app.kubernetes.io/name: tools
Binary files /tmp/tmp.T3LISUxif5/resources/v2/jboss-eap-quickstarts.zip and /tmp/tmp.VOB0xAKpSf/resources/v2/jboss-eap-quickstarts.zip differ
***** END DIFF
Untagged: localhost/devfileregistry:tmp
Deleted: 9335c78f28114f4ca14758a7c2906441682bccb30791902e5dfb33d80bc31711
Deleted: 9ff16073b153f88c82f08f0d4a8eb2699f3ff8e747f51ea6552e6f798bed540d
Deleted: 7f1118cab6c193749ca87b6ecb921de742ca65eba95bb041a4424c919e455348
Deleted: 8c38092fd9683f362ff5619888336d2d402731522188a1eb6c95f13ec2bd505d
Deleted: fb731e094e1365328e012ec0fc091d3a73a3907ec3932fb0266833dc03a1356e
Deleted: 3cbca3e5ae2e6487286ec6243512bdb9c07c78f875ce7a1d64b565715fe8a3d5
Deleted: e606a6039edf41efb9439518741e7d81c9398f77b285751071ff27e12769f6ee
Deleted: d9a2621896a2cb090cb5466ee9c27a728533c41a05f49bd89c441dd54d70a97b
Deleted: 7ea1db5d1d01ad893ef4916f8f77b22ae9cd800b3a53211f6869f4e85d37c307
Deleted: cd115bfcddaa876f6af7541122d861e6ceae4f7444ac434a24914eea432ea7b5
Deleted: ef8c250fb616507958f2da5c2d8b909479978402c420614d5f2dda5a5d9e4a95
Deleted: 11792f0f846e02764a3d75bd4f17b6bfbb99ea59462557613146c83ad2000b34
Deleted: e554726abae93bb83126e1f22ac9f259b7e0832905d5124014605b20f0f36de1
Deleted: 19db5f9df362f49e6aba75f4ebff7f69edc77432ab7dee4cb45a389563733f55
Deleted: a1b775b43610abdc2e5194d58a55a906a4f276aebb802a8931e2ef224926b9b4
Deleted: 6b0540cd68ab6cf1d490f672b2ee76ba561256b97fea3d8e2e96458e3a7c6bc5
Deleted: c374ca401fc677233a250a26ad095592d4e30be88f2b0b7fc64c4ebf1bd1bbae
Deleted: 36281165f115eef468818e9b5f82926ce5a985117629434eff657225f535fb52
Deleted: 2315e5ec644087d94fca2b074e9fd348d6da748d172e05dd9b32c280c3a79007
Deleted: f7f047fa6ab1a7919b362f0ce849b15c864e01ec3f1259ce3f2cb855f6a297a1
Deleted: b8fc0a7c76f8f04d6af7ee675fe5cac9185e1441776f30ca4bda6cb765265340
Deleted: b5d6a3b213b405bbb0d2f5179cdf5f613ca77e617b56f471ca45cfb4957c4e3c
File already uploaded: root-local.tgz
Uploading: resources.tgz
Source upload succeeded. Don't forget to commit the sources file
rm 'resources.tgz'
rm 'root-local.tgz'
