======= BOOTSTRAP DOCKERFILE =======>
#
# Copyright (c) 2018-2022 Red Hat, Inc.
# This program and the accompanying materials are made
# available under the terms of the Eclipse Public License 2.0
# which is available at https://www.eclipse.org/legal/epl-2.0/
#
# SPDX-License-Identifier: EPL-2.0
#
# Contributors:
#   Red Hat, Inc. - initial API and implementation
#   IBM Corporation - implementation
#

# Builder: check meta.yamls and create index.json
# registry.access.redhat.com/ubi8/python-38
FROM registry-proxy.engineering.redhat.com/rh-osbs/ubi8-python-38:1-100 as builder
USER 0

ARG BOOTSTRAP=true
ENV BOOTSTRAP=${BOOTSTRAP}
# if not defined or string is null, allow all registries/tags in list_referenced_images
# otherwise restrict to only those space-separated registries/tags; if others found, build will fail
# useful for failing build if quay images in an RC, or wrong devspaces image tag (3.2 in 3.1 build)
ARG ALLOWED_REGISTRIES=""
ENV ALLOWED_REGISTRIES=${ALLOWED_REGISTRIES}
ARG ALLOWED_TAGS=""
ENV ALLOWED_TAGS=${ALLOWED_TAGS}

COPY ./build/dockerfiles/content_sets_rhel8.repo /etc/yum.repos.d/
COPY ./build/dockerfiles/rhel.install.sh /tmp
RUN /tmp/rhel.install.sh && rm -f /tmp/rhel.install.sh

COPY ./build/scripts ./versions.json /build/
COPY ./build/scripts/clone_and_zip.sh /build/build/scripts/
COPY ./VERSION /
COPY ./devfiles /build/devfiles
WORKDIR /build/

RUN ./generate_devworkspace_templates.sh
RUN chmod -R g+rwX /build/resources

# validate devfile content
RUN ./check_referenced_images.sh devfiles --registries "${ALLOWED_REGISTRIES}" --tags "${ALLOWED_TAGS}"
RUN ./check_mandatory_fields.sh devfiles

# Cache projects in DS 
COPY ./build/dockerfiles/rhel.cache_projects.sh /tmp/ 
RUN /tmp/rhel.cache_projects.sh /build/ && rm -rf /tmp/rhel.cache_projects.sh /tmp/resources.tgz 

# don't do swaps, or we end up with missing content if built on s390x or ppc64le worker
# RUN ./swap_yamlfiles.sh devfiles
# RUN ./swap_images.sh devfiles
RUN ./index.sh > /build/devfiles/index.json && \
    ./list_referenced_images.sh devfiles > /build/devfiles/external_images.txt && \
    ./list_referenced_images_by_file.sh devfiles > /build/devfiles/external_images_by_devfile.txt && \
    chmod -R g+rwX /build/devfiles

<======= BOOTSTRAP DOCKERFILE =======
======= START BOOTSTRAP BUILD =======>
STEP 1/23: FROM registry-proxy.engineering.redhat.com/rh-osbs/ubi8-python-38:1-100 AS builder
STEP 2/23: USER 0
--> 2b5f96690d0
STEP 3/23: ARG BOOTSTRAP=true
--> c33f01b59b7
STEP 4/23: ENV BOOTSTRAP=${BOOTSTRAP}
--> 596f029016f
STEP 5/23: ARG ALLOWED_REGISTRIES=""
--> 886ef9e3125
STEP 6/23: ENV ALLOWED_REGISTRIES=${ALLOWED_REGISTRIES}
--> d6ee5d9aeaa
STEP 7/23: ARG ALLOWED_TAGS=""
--> 98732805a4f
STEP 8/23: ENV ALLOWED_TAGS=${ALLOWED_TAGS}
--> 0bd8d569a7a
STEP 9/23: COPY ./build/dockerfiles/content_sets_rhel8.repo /etc/yum.repos.d/
--> 62f950ad13a
STEP 10/23: COPY ./build/dockerfiles/rhel.install.sh /tmp
--> 4d6e52d084e
STEP 11/23: RUN /tmp/rhel.install.sh && rm -f /tmp/rhel.install.sh
Updating Subscription Management repositories.
Unable to read consumer identity
Subscription Manager is operating in container mode.

This system is not registered with an entitlement server. You can use subscription-manager to register.

Red Hat Enterprise Linux 8 for Power, little en  68 MB/s |  43 MB     00:00    
Red Hat Enterprise Linux 8 for Power, little en  63 MB/s |  42 MB     00:00    
Red Hat Universal Base Image 8 (RPMs) - BaseOS  662 kB/s | 577 kB     00:00    
Red Hat Universal Base Image 8 (RPMs) - AppStre 2.7 MB/s | 2.6 MB     00:00    
Red Hat Universal Base Image 8 (RPMs) - CodeRea  17 kB/s |  14 kB     00:00    
Last metadata expiration check: 0:00:01 ago on Mon 12 Sep 2022 06:26:40 PM UTC.
Package findutils-1:4.6.0-20.el8.ppc64le is already installed.
Package bash-4.4.20-3.el8.ppc64le is already installed.
Package wget-1.19.5-10.el8.ppc64le is already installed.
Package yum-4.7.0-8.el8.noarch is already installed.
Package git-2.31.1-2.el8.ppc64le is already installed.
Package gzip-1.9-13.el8_5.ppc64le is already installed.
Package tar-2:1.30-5.el8.ppc64le is already installed.
Package python3-six-1.11.0-8.el8.noarch is already installed.
Dependencies resolved.
================================================================================================================
 Package               Arch     Version                                 Repository                          Size
================================================================================================================
Installing:
 jq                    ppc64le  1.6-3.el8                               rhel-8-for-ppc64le-appstream-rpms  215 k
 python3-pip           noarch   9.0.3-22.el8                            rhel-8-for-ppc64le-appstream-rpms   20 k
 skopeo                ppc64le  2:1.8.0-2.module+el8.6.0+15917+093ca6f8 rhel-8-for-ppc64le-appstream-rpms  5.9 M
Upgrading:
 bash                  ppc64le  4.4.20-4.el8_6                          rhel-8-for-ppc64le-baseos-rpms     1.6 M
Installing dependencies:
 containers-common     ppc64le  2:1-35.module+el8.6.0+15917+093ca6f8    rhel-8-for-ppc64le-appstream-rpms  109 k
 criu                  ppc64le  3.15-3.module+el8.6.0+15875+dc9a2b96    rhel-8-for-ppc64le-appstream-rpms  536 k
 fuse-common           ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      22 k
 fuse3                 ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      57 k
 fuse3-libs            ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      99 k
 iptables-libs         ppc64le  1.8.4-22.el8                            rhel-8-for-ppc64le-baseos-rpms     114 k
 jansson               ppc64le  2.14-1.el8                              rhel-8-for-ppc64le-baseos-rpms      51 k
 kmod                  ppc64le  25-19.el8                               rhel-8-for-ppc64le-baseos-rpms     138 k
 libibverbs            ppc64le  37.2-1.el8                              rhel-8-for-ppc64le-baseos-rpms     412 k
 libmnl                ppc64le  1.0.4-6.el8                             rhel-8-for-ppc64le-baseos-rpms      31 k
 libnet                ppc64le  1.1.6-15.el8                            rhel-8-for-ppc64le-appstream-rpms   73 k
 libnftnl              ppc64le  1.1.5-5.el8                             rhel-8-for-ppc64le-baseos-rpms      88 k
 libpcap               ppc64le  14:1.9.1-5.el8                          rhel-8-for-ppc64le-baseos-rpms     176 k
 libslirp              ppc64le  4.4.0-1.module+el8.6.0+15875+dc9a2b96   rhel-8-for-ppc64le-appstream-rpms   74 k
 nftables              ppc64le  1:0.9.3-25.el8                          rhel-8-for-ppc64le-baseos-rpms     340 k
 oniguruma             ppc64le  6.8.2-2.el8                             rhel-8-for-ppc64le-appstream-rpms  199 k
 platform-python-pip   noarch   9.0.3-22.el8                            rhel-8-for-ppc64le-baseos-rpms     1.6 M
 protobuf-c            ppc64le  1.3.0-6.el8                             rhel-8-for-ppc64le-appstream-rpms   40 k
 python3-setuptools    noarch   39.2.0-6.el8                            rhel-8-for-ppc64le-baseos-rpms     163 k
 python36              ppc64le  3.6.8-38.module+el8.5.0+12207+5c5719bc  rhel-8-for-ppc64le-appstream-rpms   19 k
 runc                  ppc64le  1:1.1.3-2.module+el8.6.0+15917+093ca6f8 rhel-8-for-ppc64le-appstream-rpms  2.6 M
Installing weak dependencies:
 fuse-overlayfs        ppc64le  1.9-1.module+el8.6.0+15917+093ca6f8     rhel-8-for-ppc64le-appstream-rpms   74 k
 slirp4netns           ppc64le  1.2.0-2.module+el8.6.0+15917+093ca6f8   rhel-8-for-ppc64le-appstream-rpms   59 k
Enabling module streams:
 container-tools                rhel8                                                                           
 python36                       3.6                                                                             

Transaction Summary
================================================================================================================
Install  26 Packages
Upgrade   1 Package

Total download size: 15 M
Downloading Packages:
(1/27): libpcap-1.9.1-5.el8.ppc64le.rpm         994 kB/s | 176 kB     00:00    
(2/27): libmnl-1.0.4-6.el8.ppc64le.rpm          155 kB/s |  31 kB     00:00    
(3/27): oniguruma-6.8.2-2.el8.ppc64le.rpm       980 kB/s | 199 kB     00:00    
(4/27): python3-setuptools-39.2.0-6.el8.noarch. 727 kB/s | 163 kB     00:00    
(5/27): python36-3.6.8-38.module+el8.5.0+12207+  83 kB/s |  19 kB     00:00    
(6/27): libnftnl-1.1.5-5.el8.ppc64le.rpm        1.8 MB/s |  88 kB     00:00    
(7/27): slirp4netns-1.2.0-2.module+el8.6.0+1591 2.2 MB/s |  59 kB     00:00    
(8/27): fuse3-3.3.0-15.el8.ppc64le.rpm          1.4 MB/s |  57 kB     00:00    
(9/27): criu-3.15-3.module+el8.6.0+15875+dc9a2b 7.7 MB/s | 536 kB     00:00    
(10/27): libibverbs-37.2-1.el8.ppc64le.rpm      7.1 MB/s | 412 kB     00:00    
(11/27): fuse3-libs-3.3.0-15.el8.ppc64le.rpm    2.5 MB/s |  99 kB     00:00    
(12/27): python3-pip-9.0.3-22.el8.noarch.rpm    601 kB/s |  20 kB     00:00    
(13/27): platform-python-pip-9.0.3-22.el8.noarc  11 MB/s | 1.6 MB     00:00    
(14/27): protobuf-c-1.3.0-6.el8.ppc64le.rpm     655 kB/s |  40 kB     00:00    
(15/27): kmod-25-19.el8.ppc64le.rpm             2.6 MB/s | 138 kB     00:00    
(16/27): jansson-2.14-1.el8.ppc64le.rpm         964 kB/s |  51 kB     00:00    
(17/27): libslirp-4.4.0-1.module+el8.6.0+15875+ 1.1 MB/s |  74 kB     00:00    
(18/27): nftables-0.9.3-25.el8.ppc64le.rpm      6.0 MB/s | 340 kB     00:00    
(19/27): fuse-common-3.3.0-15.el8.ppc64le.rpm   957 kB/s |  22 kB     00:00    
(20/27): containers-common-1-35.module+el8.6.0+ 1.8 MB/s | 109 kB     00:00    
(21/27): iptables-libs-1.8.4-22.el8.ppc64le.rpm 4.2 MB/s | 114 kB     00:00    
(22/27): fuse-overlayfs-1.9-1.module+el8.6.0+15 1.8 MB/s |  74 kB     00:00    
(23/27): jq-1.6-3.el8.ppc64le.rpm               3.4 MB/s | 215 kB     00:00    
(24/27): skopeo-1.8.0-2.module+el8.6.0+15917+09  12 MB/s | 5.9 MB     00:00    
(25/27): libnet-1.1.6-15.el8.ppc64le.rpm        1.2 MB/s |  73 kB     00:00    
(26/27): bash-4.4.20-4.el8_6.ppc64le.rpm         10 MB/s | 1.6 MB     00:00    
(27/27): runc-1.1.3-2.module+el8.6.0+15917+093c  19 MB/s | 2.6 MB     00:00    
--------------------------------------------------------------------------------
Total                                            26 MB/s |  15 MB     00:00     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Upgrading        : bash-4.4.20-4.el8_6.ppc64le                           1/28 
  Running scriptlet: bash-4.4.20-4.el8_6.ppc64le                           1/28 
  Installing       : fuse3-libs-3.3.0-15.el8.ppc64le                       2/28 
  Running scriptlet: fuse3-libs-3.3.0-15.el8.ppc64le                       2/28 
  Installing       : libmnl-1.0.4-6.el8.ppc64le                            3/28 
  Running scriptlet: libmnl-1.0.4-6.el8.ppc64le                            3/28 
  Installing       : libnftnl-1.1.5-5.el8.ppc64le                          4/28 
  Running scriptlet: libnftnl-1.1.5-5.el8.ppc64le                          4/28 
  Installing       : libibverbs-37.2-1.el8.ppc64le                         5/28 
  Running scriptlet: libibverbs-37.2-1.el8.ppc64le                         5/28 
  Installing       : libpcap-14:1.9.1-5.el8.ppc64le                        6/28 
  Installing       : iptables-libs-1.8.4-22.el8.ppc64le                    7/28 
  Installing       : kmod-25-19.el8.ppc64le                                8/28 
  Installing       : libnet-1.1.6-15.el8.ppc64le                           9/28 
  Running scriptlet: libnet-1.1.6-15.el8.ppc64le                           9/28 
  Installing       : libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc   10/28 
  Installing       : slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.   11/28 
  Installing       : protobuf-c-1.3.0-6.el8.ppc64le                       12/28 
  Installing       : oniguruma-6.8.2-2.el8.ppc64le                        13/28 
  Running scriptlet: oniguruma-6.8.2-2.el8.ppc64le                        13/28 
  Installing       : fuse-common-3.3.0-15.el8.ppc64le                     14/28 
  Installing       : fuse3-3.3.0-15.el8.ppc64le                           15/28 
  Installing       : fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   16/28 
  Running scriptlet: fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   16/28 
  Installing       : jansson-2.14-1.el8.ppc64le                           17/28 
  Installing       : nftables-1:0.9.3-25.el8.ppc64le                      18/28 
  Running scriptlet: nftables-1:0.9.3-25.el8.ppc64le                      18/28 
  Installing       : criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le    19/28 
  Installing       : runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64   20/28 
  Installing       : containers-common-2:1-35.module+el8.6.0+15917+093c   21/28 
  Installing       : platform-python-pip-9.0.3-22.el8.noarch              22/28 
  Installing       : python3-setuptools-39.2.0-6.el8.noarch               23/28 
  Installing       : python3-pip-9.0.3-22.el8.noarch                      24/28 
  Installing       : python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   25/28 
  Running scriptlet: python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   25/28 
  Installing       : skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc   26/28 
  Installing       : jq-1.6-3.el8.ppc64le                                 27/28 
  Cleanup          : bash-4.4.20-3.el8.ppc64le                            28/28 
  Running scriptlet: bash-4.4.20-3.el8.ppc64le                            28/28 
  Verifying        : libmnl-1.0.4-6.el8.ppc64le                            1/28 
  Verifying        : python3-setuptools-39.2.0-6.el8.noarch                2/28 
  Verifying        : libpcap-14:1.9.1-5.el8.ppc64le                        3/28 
  Verifying        : platform-python-pip-9.0.3-22.el8.noarch               4/28 
  Verifying        : libnftnl-1.1.5-5.el8.ppc64le                          5/28 
  Verifying        : fuse3-3.3.0-15.el8.ppc64le                            6/28 
  Verifying        : libibverbs-37.2-1.el8.ppc64le                         7/28 
  Verifying        : fuse3-libs-3.3.0-15.el8.ppc64le                       8/28 
  Verifying        : kmod-25-19.el8.ppc64le                                9/28 
  Verifying        : jansson-2.14-1.el8.ppc64le                           10/28 
  Verifying        : nftables-1:0.9.3-25.el8.ppc64le                      11/28 
  Verifying        : fuse-common-3.3.0-15.el8.ppc64le                     12/28 
  Verifying        : iptables-libs-1.8.4-22.el8.ppc64le                   13/28 
  Verifying        : skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc   14/28 
  Verifying        : python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   15/28 
  Verifying        : oniguruma-6.8.2-2.el8.ppc64le                        16/28 
  Verifying        : criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le    17/28 
  Verifying        : slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.   18/28 
  Verifying        : protobuf-c-1.3.0-6.el8.ppc64le                       19/28 
  Verifying        : python3-pip-9.0.3-22.el8.noarch                      20/28 
  Verifying        : libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc   21/28 
  Verifying        : containers-common-2:1-35.module+el8.6.0+15917+093c   22/28 
  Verifying        : jq-1.6-3.el8.ppc64le                                 23/28 
  Verifying        : fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   24/28 
  Verifying        : runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64   25/28 
  Verifying        : libnet-1.1.6-15.el8.ppc64le                          26/28 
  Verifying        : bash-4.4.20-4.el8_6.ppc64le                          27/28 
  Verifying        : bash-4.4.20-3.el8.ppc64le                            28/28 
Installed products updated.

Upgraded:
  bash-4.4.20-4.el8_6.ppc64le                                                   
Installed:
  containers-common-2:1-35.module+el8.6.0+15917+093ca6f8.ppc64le                
  criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le                             
  fuse-common-3.3.0-15.el8.ppc64le                                              
  fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8.ppc64le                    
  fuse3-3.3.0-15.el8.ppc64le                                                    
  fuse3-libs-3.3.0-15.el8.ppc64le                                               
  iptables-libs-1.8.4-22.el8.ppc64le                                            
  jansson-2.14-1.el8.ppc64le                                                    
  jq-1.6-3.el8.ppc64le                                                          
  kmod-25-19.el8.ppc64le                                                        
  libibverbs-37.2-1.el8.ppc64le                                                 
  libmnl-1.0.4-6.el8.ppc64le                                                    
  libnet-1.1.6-15.el8.ppc64le                                                   
  libnftnl-1.1.5-5.el8.ppc64le                                                  
  libpcap-14:1.9.1-5.el8.ppc64le                                                
  libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc64le                        
  nftables-1:0.9.3-25.el8.ppc64le                                               
  oniguruma-6.8.2-2.el8.ppc64le                                                 
  platform-python-pip-9.0.3-22.el8.noarch                                       
  protobuf-c-1.3.0-6.el8.ppc64le                                                
  python3-pip-9.0.3-22.el8.noarch                                               
  python3-setuptools-39.2.0-6.el8.noarch                                        
  python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.ppc64le                       
  runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64le                          
  skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc64le                        
  slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.ppc64le                     

Complete!
Collecting yq
  Downloading https://files.pythonhosted.org/packages/60/2c/ab35b5ec3b884b6e33b18ba3f6be6b94d607501fca1e5a8de22988690cdb/yq-3.1.0-py3-none-any.whl
Collecting argcomplete>=1.8.1
  Downloading https://files.pythonhosted.org/packages/d3/e5/c5509683462e51b070df9e83e7f72c1ccfe3f733f328b4a0f06804c27278/argcomplete-2.0.0-py2.py3-none-any.whl
Collecting PyYAML>=5.3.1
  Downloading https://files.pythonhosted.org/packages/36/2b/61d51a2c4f25ef062ae3f74576b01638bebad5e045f747ff12643df63844/PyYAML-6.0.tar.gz (124kB)
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
    Preparing wheel metadata: started
    Preparing wheel metadata: finished with status 'done'
Collecting toml>=0.10.0
  Downloading https://files.pythonhosted.org/packages/44/6f/7120676b6d73228c96e17f1f794d8ab046fc910d781c8d151120c3f1569e/toml-0.10.2-py2.py3-none-any.whl
Collecting xmltodict>=0.11.0
  Downloading https://files.pythonhosted.org/packages/94/db/fd0326e331726f07ff7f40675cd86aa804bfd2e5016c727fa761c934990e/xmltodict-0.13.0-py2.py3-none-any.whl
Building wheels for collected packages: PyYAML
  Building wheel for PyYAML (PEP 517): started
  Building wheel for PyYAML (PEP 517): finished with status 'done'
  Created wheel for PyYAML: filename=PyYAML-6.0-cp38-cp38-linux_ppc64le.whl size=45333 sha256=108551f798488cc1f92562db2c887ddec5da47322d49cfac8d7c94bd3f2b191c
  Stored in directory: /tmp/pip-ephem-wheel-cache-inoub6i0/wheels/95/84/67/ebeac632c63797cfbeb90128ca41073117721540dad526d213
Successfully built PyYAML
Installing collected packages: argcomplete, PyYAML, toml, xmltodict, yq
Successfully installed PyYAML-6.0 argcomplete-2.0.0 toml-0.10.2 xmltodict-0.13.0 yq-3.1.0
python: Python 3.8.12
yq: yq 3.1.0
jq: jq-1.6
--> 9435fe3baed
STEP 12/23: COPY ./build/scripts ./versions.json /build/
--> 001e1ee7fa5
STEP 13/23: COPY ./build/scripts/clone_and_zip.sh /build/build/scripts/
--> c880543b77f
STEP 14/23: COPY ./VERSION /
--> 8c855da53e2
STEP 15/23: COPY ./devfiles /build/devfiles
--> 622cbd985d3
STEP 16/23: WORKDIR /build/
--> d28f9fffb0e
STEP 17/23: RUN ./generate_devworkspace_templates.sh

> core-js@2.6.12 postinstall /build/node_modules/core-js
> node -e "try{require('./postinstall')}catch(e){}"

[96mThank you for using core-js ([94m https://github.com/zloirock/core-js [96m) for polyfilling JavaScript standard library![0m

[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: [0m
[96m>[94m https://opencollective.com/core-js [0m
[96m>[94m https://www.patreon.com/zloirock [0m

[96mAlso, the author of core-js ([94m https://github.com/zloirock [96m) is looking for a good job -)[0m

+ @eclipse-che/che-theia-devworkspace-handler@0.0.1-1649678182
added 121 packages from 182 contributors and audited 121 packages in 10.607s

4 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

+ @eclipse-che/che-code-devworkspace-handler@1.64.0-dev-210b722
added 2 packages from 1 contributor and audited 240 packages in 3.274s

4 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
--> 27192b452c1
STEP 18/23: RUN chmod -R g+rwX /build/resources
--> ae60ab89f23
STEP 19/23: RUN ./check_referenced_images.sh devfiles --registries "${ALLOWED_REGISTRIES}" --tags "${ALLOWED_TAGS}"
 + quay.io/devspaces/code-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/machineexec-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/theia-endpoint-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/theia-rhel8:3.3 PASS - 3.3 allowed
 + quay.io/devspaces/udi-rhel8:3.3 PASS - 3.3 allowed
 = registry.redhat.io/jboss-eap-7/eap74-openjdk11-openshift-rhel8:7.4.4 PASS
 = registry.redhat.io/jboss-eap-7/eap-xp3-openjdk11-openshift-rhel8:3.0 PASS
 = registry.redhat.io/rhscl/mongodb-36-rhel7:1-50 PASS
--> 4faf66b12dc
STEP 20/23: RUN ./check_mandatory_fields.sh devfiles
Checking devfile 'devfiles/00_java11-maven-eap/meta.yaml'
Checking devfile 'devfiles/00_java11-maven-microprofile-xp3/meta.yaml'
Checking devfile 'devfiles/03_camelk/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-gradle/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-lombok/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-quarkus/meta.yaml'
Checking devfile 'devfiles/04_nodejs-mongo/meta.yaml'
Checking devfile 'devfiles/04_nodejs-simple/meta.yaml'
Checking devfile 'devfiles/04_python/meta.yaml'
Checking devfile 'devfiles/05_cpp/meta.yaml'
Checking devfile 'devfiles/05_go/meta.yaml'
Checking devfile 'devfiles/05_php-cake/meta.yaml'
Checking devfile 'devfiles/05_php-di/meta.yaml'
--> 0371a113e21
STEP 21/23: COPY ./build/dockerfiles/rhel.cache_projects.sh /tmp/ 
--> 07ba221eb7e
STEP 22/23: RUN /tmp/rhel.cache_projects.sh /build/ && rm -rf /tmp/rhel.cache_projects.sh /tmp/resources.tgz 
--> 5e0566c3390
STEP 23/23: RUN ./index.sh > /build/devfiles/index.json &&     ./list_referenced_images.sh devfiles > /build/devfiles/external_images.txt &&     ./list_referenced_images_by_file.sh devfiles > /build/devfiles/external_images_by_devfile.txt &&     chmod -R g+rwX /build/devfiles
COMMIT devfileregistry:tmp
--> 8e21db3ba81
Successfully tagged localhost/devfileregistry:tmp
8e21db3ba81e1fbcfbc0acecd5dea28d07f63a755cbbdbc68e4a82a2a2773c61
<======= END BOOTSTRAP BUILD =======
Downloading root-local.tgz
Downloading resources.tgz
DIFF START *****
diff --suppress-common-lines -u -r -x '*.pyc' -x installed-files.txt /tmp/tmp.VSox0heB2i/lib/python3.8/site-packages/PyYAML-6.0.dist-info/METADATA /tmp/tmp.2RdLtn4d1G/lib/python3.8/site-packages/PyYAML-6.0.dist-info/METADATA
--- /tmp/tmp.VSox0heB2i/lib/python3.8/site-packages/PyYAML-6.0.dist-info/METADATA	2022-08-28 08:53:26.000000000 +0000
+++ /tmp/tmp.2RdLtn4d1G/lib/python3.8/site-packages/PyYAML-6.0.dist-info/METADATA	2022-09-12 18:28:27.121751889 +0000
@@ -3,10 +3,10 @@
 Version: 6.0
 Summary: YAML parser and emitter for Python
 Home-page: https://pyyaml.org/
+Download-URL: https://pypi.org/project/PyYAML/
 Author: Kirill Simonov
 Author-email: xi@resolvent.net
 License: MIT
-Download-URL: https://pypi.org/project/PyYAML/
 Project-URL: Bug Tracker, https://github.com/yaml/pyyaml/issues
 Project-URL: CI, https://github.com/yaml/pyyaml/actions
 Project-URL: Documentation, https://pyyaml.org/wiki/PyYAMLDocumentation
@@ -43,4 +43,3 @@
 
 PyYAML is applicable for a broad range of tasks from complex
 configuration files to object serialization and persistence.
-
diff --suppress-common-lines -u -r -x '*.pyc' -x installed-files.txt /tmp/tmp.VSox0heB2i/lib/python3.8/site-packages/PyYAML-6.0.dist-info/RECORD /tmp/tmp.2RdLtn4d1G/lib/python3.8/site-packages/PyYAML-6.0.dist-info/RECORD
--- /tmp/tmp.VSox0heB2i/lib/python3.8/site-packages/PyYAML-6.0.dist-info/RECORD	2022-08-28 08:53:26.000000000 +0000
+++ /tmp/tmp.2RdLtn4d1G/lib/python3.8/site-packages/PyYAML-6.0.dist-info/RECORD	2022-09-12 18:28:27.121751889 +0000
@@ -1,8 +1,8 @@
 PyYAML-6.0.dist-info/INSTALLER,sha256=zuuue4knoyJ-UwPPXg8fezS7VCrXJQrAP7zeNuwvFQg,4
 PyYAML-6.0.dist-info/LICENSE,sha256=jTko-dxEkP1jVwfLiOsmvXZBAqcoKVQwfT5RZ6V36KQ,1101
-PyYAML-6.0.dist-info/METADATA,sha256=QmHx9kGp_0yezQCXYaft4eEFeJ6W4oyFfYwHDLP1kdg,2006
+PyYAML-6.0.dist-info/METADATA,sha256=Q56A1jQxEnzMMCyqgYkqM5Egvr9y18VExGF3ciGLjlY,2005
 PyYAML-6.0.dist-info/RECORD,,
-PyYAML-6.0.dist-info/WHEEL,sha256=RiwktpmF40OphKd3_aIG01PzIOQlJ7dpBn3cFSc9vak,217
+PyYAML-6.0.dist-info/WHEEL,sha256=VXb7H8_fWiBJHbEvxuDSYbC9VxfKWz2_woH0TyHF8yQ,104
 PyYAML-6.0.dist-info/top_level.txt,sha256=rpj0IVMTisAjh_1vG3Ccf9v5jpCQwAz6cD1IVU5ZdhQ,11
 _yaml/__init__.py,sha256=04Ae_5osxahpJHa3XBZUAf4wi6XX32gR8D6X6p64GEA,1402
 _yaml/__pycache__/__init__.cpython-38.pyc,,
@@ -24,7 +24,6 @@
 yaml/__pycache__/scanner.cpython-38.pyc,,
 yaml/__pycache__/serializer.cpython-38.pyc,,
 yaml/__pycache__/tokens.cpython-38.pyc,,
-yaml/_yaml.cpython-38-x86_64-linux-gnu.so,sha256=lMaKSmQZy3WNZSmmU0Wg5Y5ZAs-HR5vItyGVUIsp8Rg,2847784
 yaml/composer.py,sha256=_Ko30Wr6eDWUeUpauUGT3Lcg9QPBnOPVlTnIMRGJ9FM,4883
 yaml/constructor.py,sha256=kNgkfaeLUkwQYY_Q6Ff1Tz2XVw_pG1xVE9Ak7z-viLA,28639
 yaml/cyaml.py,sha256=6ZrAG9fAYvdVe2FK_w0hmXoG7ZYsoYUwapG8CiC72H0,3851
diff --suppress-common-lines -u -r -x '*.pyc' -x installed-files.txt /tmp/tmp.VSox0heB2i/lib/python3.8/site-packages/PyYAML-6.0.dist-info/WHEEL /tmp/tmp.2RdLtn4d1G/lib/python3.8/site-packages/PyYAML-6.0.dist-info/WHEEL
--- /tmp/tmp.VSox0heB2i/lib/python3.8/site-packages/PyYAML-6.0.dist-info/WHEEL	2022-08-28 08:53:26.000000000 +0000
+++ /tmp/tmp.2RdLtn4d1G/lib/python3.8/site-packages/PyYAML-6.0.dist-info/WHEEL	2022-09-12 18:28:27.121751889 +0000
@@ -1,8 +1,5 @@
 Wheel-Version: 1.0
-Generator: bdist_wheel (0.37.0)
+Generator: bdist_wheel (0.37.1)
 Root-Is-Purelib: false
-Tag: cp38-cp38-manylinux_2_5_x86_64
-Tag: cp38-cp38-manylinux1_x86_64
-Tag: cp38-cp38-manylinux_2_12_x86_64
-Tag: cp38-cp38-manylinux2010_x86_64
+Tag: cp38-cp38-linux_ppc64le
 
Only in /tmp/tmp.VSox0heB2i/lib/python3.8/site-packages/yaml: _yaml.cpython-38-x86_64-linux-gnu.so
***** END DIFF
Untagged: localhost/devfileregistry:tmp
Deleted: 8e21db3ba81e1fbcfbc0acecd5dea28d07f63a755cbbdbc68e4a82a2a2773c61
Deleted: 5e0566c339004640067caea26bc2483a808c511877266ab016e665261b531b9d
Deleted: 07ba221eb7e1daf7a278fefb68c756607ddbc4956b47c208f5a6111b0c5237db
Deleted: 0371a113e21b6230439d4074aa7992847b59e5b32c37980e09bc023f09696cff
Deleted: 4faf66b12dce238551dbda39a612ea2e6b349cae9f4a1a79b2aa54924c3bcf50
Deleted: ae60ab89f23eec2d316265c43991ed9af9f8d36ef8c12b4f54c27c29016d3adf
Deleted: 27192b452c1c6ef1dc7260615c1500c6f7499e85533d8e9890bd39ab3922a419
Deleted: d28f9fffb0e8c72954d67646dacacc19d2d832ba47a70f34fbc623562bd2fcc0
Deleted: 622cbd985d3c2ff983c4f28f88b77b95463cb037750e2d515141e680d824c587
Deleted: 8c855da53e252c06d2a45e835e31bd58c0099fe723d15c0db28dde252e0404dc
Deleted: c880543b77f39b84afe698eb5653d3a5f1ca18f1c2d7afe68f486fe97f6f5ec8
Deleted: 001e1ee7fa535277afccc8cb12272a4c50edf80534a6ec60e49106a85af90395
Deleted: 9435fe3baedcd279353c0bf0c794e834ce034f9a4a95c9411ca09d72a5883bc6
Deleted: 4d6e52d084e44eabc1963f5fad6f0ea88711c1bbe18c3f0806d1a9a37bbe3463
Deleted: 62f950ad13aa375b90856041b633072b4c00dc1099c2e0373b75c06ffcc8db3d
Deleted: 0bd8d569a7a8fa26be5581ce71c75e7515b096ea4579daea49ed22026ff545ef
Deleted: 98732805a4f9a9c54e73529aea011cbe4fb4eafd2aa1f47d390c8cd64e60efe4
Deleted: d6ee5d9aeaa03088ed76d7c237603e713f6a8228541796ff017472a102e34615
Deleted: 886ef9e3125473db59cd08cf4ab9cb146388d257fedf968e99bffa4ebdd77d0e
Deleted: 596f029016f211809ff79be5283a7c7121cc8d3953a7dc94dba9c5c7a5a15444
Deleted: c33f01b59b7fcf4318d1714510e425366d9bbd30d879cbf8189aa263d21acd7b
Deleted: 2b5f96690d0cc642bb8af4e5eb80f6394a537abbb201ad86a4e340de4863bea5
Uploading: root-local.tgz
File already uploaded: resources.tgz
Source upload succeeded. Don't forget to commit the sources file
rm 'resources.tgz'
rm 'root-local.tgz'
